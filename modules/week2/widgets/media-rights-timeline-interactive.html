<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Major Media Rights Deals Timeline 2020-2035</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Geist:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Geist', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: white;
            color: #2d3748;
            padding: 2rem;
            min-height: 100vh;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: #f9fafb;
            border: 1px solid #d1d5db;
            border-radius: 8px;
            padding: 2rem;
        }

        h1 {
            color: #1f2937;
            margin-bottom: 0.5rem;
            font-size: 2rem;
        }

        .subtitle {
            color: #6b7280;
            margin-bottom: 2rem;
            font-size: 1rem;
        }

        .controls {
            display: flex;
            gap: 1rem;
            margin-bottom: 2rem;
            flex-wrap: wrap;
        }

        .filter-group {
            display: flex;
            gap: 0.5rem;
            align-items: center;
        }

        .filter-btn {
            padding: 0.5rem 1rem;
            background: white;
            border: 2px solid #d1d5db;
            border-radius: 4px;
            color: #2d3748;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 0.9rem;
        }

        .filter-btn:hover {
            border-color: #2d3748;
            background: #f9fafb;
        }

        .filter-btn.active {
            background: #2d3748;
            color: white;
            border-color: #2d3748;
        }

        .filter-btn:focus {
            outline: 2px solid #2d3748;
            outline-offset: 2px;
        }

        .timeline-container {
            background: white;
            padding: 2rem;
            border: 1px solid #d1d5db;
            border-radius: 8px;
        }

        .year-labels {
            display: flex;
            justify-content: space-between;
            margin-bottom: 1rem;
            padding: 0 80px 0 120px;
            font-weight: 600;
            color: #6b7280;
            font-size: 0.9rem;
        }

        .timeline-row {
            display: flex;
            align-items: center;
            margin-bottom: 1.5rem;
            position: relative;
            min-height: 60px;
        }

        .league-icon {
            width: 80px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        .league-icon img {
            max-width: 100%;
            max-height: 100%;
        }

        .deals-track {
            flex: 1;
            position: relative;
            height: 60px;
            margin-left: 1rem;
        }

        .year-grid {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            display: grid;
            grid-template-columns: repeat(16, 1fr);
            pointer-events: none;
        }

        .year-line {
            border-right: 1px dashed #e5e7eb;
        }

        .deal-bar {
            position: absolute;
            height: 26px;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            padding: 0 8px;
            font-size: 0.75rem;
            font-weight: 600;
            color: white;
            overflow: hidden;
            white-space: nowrap;
        }

        .deal-bar.traditional {
            background: linear-gradient(135deg, #374151 0%, #1f2937 100%);
            border: 1px solid #1f2937;
        }

        .deal-bar.streaming {
            background: linear-gradient(135deg, #059669 0%, #047857 100%);
            border: 1px solid #047857;
        }

        .deal-bar:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            z-index: 10;
        }

        .deal-bar:focus {
            outline: 3px solid #2d3748;
            outline-offset: 2px;
            z-index: 10;
        }

        .deal-bar.top {
            top: 2px;
        }

        .deal-bar.bottom {
            bottom: 2px;
        }

        .value-label {
            position: absolute;
            right: -60px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 0.85rem;
            font-weight: 600;
            color: #2d3748;
            white-space: nowrap;
        }

        .tooltip {
            position: fixed;
            background: #1f2937;
            color: white;
            padding: 1rem;
            border-radius: 6px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.3);
            z-index: 1000;
            max-width: 320px;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.2s;
        }

        .tooltip.visible {
            opacity: 1;
        }

        .tooltip h3 {
            font-size: 1rem;
            margin-bottom: 0.5rem;
            color: white;
            border-bottom: 1px solid rgba(255,255,255,0.2);
            padding-bottom: 0.5rem;
        }

        .tooltip-row {
            display: flex;
            justify-content: space-between;
            margin: 0.3rem 0;
            font-size: 0.85rem;
        }

        .tooltip-label {
            color: #d1d5db;
        }

        .tooltip-value {
            font-weight: 600;
            color: white;
        }

        .legend {
            display: flex;
            gap: 2rem;
            margin-top: 2rem;
            padding: 1rem;
            background: #f9fafb;
            border-radius: 6px;
            justify-content: center;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.9rem;
        }

        .legend-box {
            width: 24px;
            height: 16px;
            border-radius: 3px;
        }

        .legend-box.traditional {
            background: linear-gradient(135deg, #374151 0%, #1f2937 100%);
        }

        .legend-box.streaming {
            background: linear-gradient(135deg, #059669 0%, #047857 100%);
        }

        .year-slider {
            margin: 2rem 0 1rem 0;
            padding: 0 120px;
        }

        .slider-label {
            font-weight: 600;
            color: #2d3748;
            margin-bottom: 0.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .current-year {
            font-size: 1.2rem;
            color: #059669;
        }

        input[type="range"] {
            width: 100%;
            height: 8px;
            border-radius: 4px;
            background: #d1d5db;
            outline: none;
            -webkit-appearance: none;
        }

        input[type="range"]::-webkit-slider-thumb {
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #059669;
            cursor: pointer;
            box-shadow: 0 2px 6px rgba(0,0,0,0.2);
        }

        input[type="range"]::-moz-range-thumb {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #059669;
            cursor: pointer;
            border: none;
            box-shadow: 0 2px 6px rgba(0,0,0,0.2);
        }

        .stats-panel {
            margin-top: 2rem;
            padding: 1.5rem;
            background: white;
            border: 1px solid #d1d5db;
            border-radius: 8px;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            margin-top: 1rem;
        }

        .stat-item {
            text-align: center;
            padding: 1rem;
            background: #f9fafb;
            border-radius: 6px;
        }

        .stat-value {
            font-size: 1.8rem;
            font-weight: 700;
            color: #2d3748;
            margin-bottom: 0.3rem;
        }

        .stat-label {
            font-size: 0.85rem;
            color: #6b7280;
            font-weight: 500;
        }

        @media (max-width: 1024px) {
            .year-labels {
                padding: 0 60px 0 100px;
                font-size: 0.75rem;
            }

            .value-label {
                font-size: 0.75rem;
                right: -50px;
            }

            .league-icon {
                width: 60px;
                height: 50px;
            }
        }

        @media (max-width: 768px) {
            .container {
                padding: 1rem;
            }

            h1 {
                font-size: 1.5rem;
            }

            .year-labels {
                display: none;
            }

            .value-label {
                position: static;
                transform: none;
                margin-top: 0.5rem;
                display: block;
            }

            .timeline-row {
                flex-direction: column;
                align-items: flex-start;
            }

            .deals-track {
                margin-left: 0;
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ðŸ“Š Major Media Rights Deals, 2020â€“2035</h1>
        <p class="subtitle">Interactive timeline showing the evolution from traditional broadcasters to streaming platforms</p>

        <div class="controls">
            <div class="filter-group">
                <span style="font-weight: 600; color: #6b7280;">Filter by League:</span>
                <button class="filter-btn active" onclick="filterLeague('all')" data-league="all">All Leagues</button>
                <button class="filter-btn" onclick="filterLeague('NHL')" data-league="NHL">NHL</button>
                <button class="filter-btn" onclick="filterLeague('NBA')" data-league="NBA">NBA</button>
                <button class="filter-btn" onclick="filterLeague('NFL')" data-league="NFL">NFL</button>
                <button class="filter-btn" onclick="filterLeague('MLB')" data-league="MLB">MLB</button>
            </div>
        </div>

        <div class="controls">
            <div class="filter-group">
                <span style="font-weight: 600; color: #6b7280;">Filter by Type:</span>
                <button class="filter-btn active" onclick="filterType('all')" data-type="all">All Platforms</button>
                <button class="filter-btn" onclick="filterType('traditional')" data-type="traditional">Traditional Only</button>
                <button class="filter-btn" onclick="filterType('streaming')" data-type="streaming">Streaming Only</button>
            </div>
        </div>

        <div class="year-slider">
            <div class="slider-label">
                <span>Highlight Deals Active in Year:</span>
                <span class="current-year" id="year-display">2025</span>
            </div>
            <input type="range" id="year-slider" min="2020" max="2035" value="2025" step="1"
                   aria-label="Select year to highlight active deals">
        </div>

        <div class="timeline-container">
            <div class="year-labels">
                <span>2020</span>
                <span>2021</span>
                <span>2024</span>
                <span>2035</span>
            </div>

            <div id="timeline-content">
                <!-- NHL -->
                <div class="timeline-row" data-league="NHL">
                    <div class="league-icon">
                        <svg viewBox="0 0 100 100" width="60" height="60">
                            <text x="50" y="55" font-size="16" font-weight="700" text-anchor="middle" fill="#2d3748">NHL</text>
                        </svg>
                    </div>
                    <div class="deals-track">
                        <div class="year-grid">
                            <div class="year-line"></div>
                            <div class="year-line"></div>
                            <div class="year-line"></div>
                            <div class="year-line"></div>
                            <div class="year-line"></div>
                            <div class="year-line"></div>
                            <div class="year-line"></div>
                            <div class="year-line"></div>
                            <div class="year-line"></div>
                            <div class="year-line"></div>
                            <div class="year-line"></div>
                            <div class="year-line"></div>
                            <div class="year-line"></div>
                            <div class="year-line"></div>
                            <div class="year-line"></div>
                            <div class="year-line"></div>
                        </div>
                        <div class="deal-bar traditional top"
                             data-start="2020" data-end="2021"
                             data-broadcaster="ESPN, Turner"
                             data-value="6.5"
                             data-type="traditional"
                             style="left: 0%; width: 6.25%;"
                             tabindex="0"
                             role="button"
                             aria-label="NHL deal with ESPN and Turner, 2020-2021, $6.5 billion">
                            ESPN, Turner
                        </div>
                        <div class="deal-bar streaming bottom"
                             data-start="2024" data-end="2035"
                             data-broadcaster="ESPN+"
                             data-value="6.5"
                             data-type="streaming"
                             style="left: 25%; width: 68.75%;"
                             tabindex="0"
                             role="button"
                             aria-label="NHL deal with ESPN+, 2024-2035, $6.5 billion">
                            ESPN+
                        </div>
                    </div>
                    <div class="value-label">$6.5B</div>
                </div>

                <!-- NBA -->
                <div class="timeline-row" data-league="NBA">
                    <div class="league-icon">
                        <svg viewBox="0 0 100 100" width="60" height="60">
                            <text x="50" y="55" font-size="16" font-weight="700" text-anchor="middle" fill="#2d3748">NBA</text>
                        </svg>
                    </div>
                    <div class="deals-track">
                        <div class="year-grid">
                            <div class="year-line"></div>
                            <div class="year-line"></div>
                            <div class="year-line"></div>
                            <div class="year-line"></div>
                            <div class="year-line"></div>
                            <div class="year-line"></div>
                            <div class="year-line"></div>
                            <div class="year-line"></div>
                            <div class="year-line"></div>
                            <div class="year-line"></div>
                            <div class="year-line"></div>
                            <div class="year-line"></div>
                            <div class="year-line"></div>
                            <div class="year-line"></div>
                            <div class="year-line"></div>
                            <div class="year-line"></div>
                        </div>
                        <div class="deal-bar traditional top"
                             data-start="2020" data-end="2024"
                             data-broadcaster="ESPN, Turner"
                             data-value="4.0"
                             data-type="traditional"
                             style="left: 0%; width: 25%;"
                             tabindex="0"
                             role="button"
                             aria-label="NBA deal with ESPN and Turner, 2020-2024, $4.0 billion">
                            ESPN, Turner
                        </div>
                        <div class="deal-bar streaming bottom"
                             data-start="2024" data-end="2035"
                             data-broadcaster="Amazon, NBC, ESPN, Warner Bros. Discovery"
                             data-value="4.0"
                             data-type="streaming"
                             style="left: 25%; width: 68.75%;"
                             tabindex="0"
                             role="button"
                             aria-label="NBA deal with Amazon, NBC, ESPN, Warner Bros. Discovery, 2024-2035, $4.0 billion">
                            Amazon, NBC, ESPN, WBD
                        </div>
                    </div>
                    <div class="value-label">$4.0B</div>
                </div>

                <!-- NFL -->
                <div class="timeline-row" data-league="NFL">
                    <div class="league-icon">
                        <svg viewBox="0 0 100 100" width="60" height="60">
                            <text x="50" y="55" font-size="16" font-weight="700" text-anchor="middle" fill="#2d3748">NFL</text>
                        </svg>
                    </div>
                    <div class="deals-track">
                        <div class="year-grid">
                            <div class="year-line"></div>
                            <div class="year-line"></div>
                            <div class="year-line"></div>
                            <div class="year-line"></div>
                            <div class="year-line"></div>
                            <div class="year-line"></div>
                            <div class="year-line"></div>
                            <div class="year-line"></div>
                            <div class="year-line"></div>
                            <div class="year-line"></div>
                            <div class="year-line"></div>
                            <div class="year-line"></div>
                            <div class="year-line"></div>
                            <div class="year-line"></div>
                            <div class="year-line"></div>
                            <div class="year-line"></div>
                        </div>
                        <div class="deal-bar traditional top"
                             data-start="2020" data-end="2033"
                             data-broadcaster="CBS, Fox, NBC, ESPN, Amazon"
                             data-value="3.0"
                             data-type="traditional"
                             style="left: 0%; width: 81.25%;"
                             tabindex="0"
                             role="button"
                             aria-label="NFL deal with CBS, Fox, NBC, ESPN, Amazon, 2020-2033, $3.0 billion">
                            CBS, Fox, NBC, ESPN, Amazon
                        </div>
                        <div class="deal-bar streaming bottom"
                             data-start="2022" data-end="2033"
                             data-broadcaster="Amazon Prime Video"
                             data-value="3.0"
                             data-type="streaming"
                             style="left: 12.5%; width: 68.75%;"
                             tabindex="0"
                             role="button"
                             aria-label="NFL deal with Amazon Prime Video, 2022-2033, $3.0 billion">
                            Amazon Prime Video
                        </div>
                    </div>
                    <div class="value-label">$3.0B</div>
                </div>

                <!-- MLB Row 1 -->
                <div class="timeline-row" data-league="MLB">
                    <div class="league-icon">
                        <svg viewBox="0 0 100 100" width="60" height="60">
                            <text x="50" y="55" font-size="16" font-weight="700" text-anchor="middle" fill="#2d3748">MLB</text>
                        </svg>
                    </div>
                    <div class="deals-track">
                        <div class="year-grid">
                            <div class="year-line"></div>
                            <div class="year-line"></div>
                            <div class="year-line"></div>
                            <div class="year-line"></div>
                            <div class="year-line"></div>
                            <div class="year-line"></div>
                            <div class="year-line"></div>
                            <div class="year-line"></div>
                            <div class="year-line"></div>
                            <div class="year-line"></div>
                            <div class="year-line"></div>
                            <div class="year-line"></div>
                            <div class="year-line"></div>
                            <div class="year-line"></div>
                            <div class="year-line"></div>
                            <div class="year-line"></div>
                        </div>
                        <div class="deal-bar traditional top"
                             data-start="2020" data-end="2028"
                             data-broadcaster="Fox, ESPN, Turner"
                             data-value="2.0"
                             data-type="traditional"
                             style="left: 0%; width: 50%;"
                             tabindex="0"
                             role="button"
                             aria-label="MLB deal with Fox, ESPN, Turner, 2020-2028, $2.0 billion">
                            Fox, ESPN, Turner
                        </div>
                        <div class="deal-bar streaming bottom"
                             data-start="2024" data-end="2032"
                             data-broadcaster="Apple, Peacock"
                             data-value="2.0"
                             data-type="streaming"
                             style="left: 25%; width: 50%;"
                             tabindex="0"
                             role="button"
                             aria-label="MLB deal with Apple and Peacock, 2024-2032, $2.0 billion">
                            Apple, Peacock
                        </div>
                    </div>
                    <div class="value-label">$2.0B</div>
                </div>

                <!-- MLB Row 2 (Additional deal) -->
                <div class="timeline-row" data-league="MLB">
                    <div class="league-icon">
                        <svg viewBox="0 0 100 100" width="60" height="60">
                            <text x="50" y="55" font-size="16" font-weight="700" text-anchor="middle" fill="#2d3748">MLB</text>
                        </svg>
                    </div>
                    <div class="deals-track">
                        <div class="year-grid">
                            <div class="year-line"></div>
                            <div class="year-line"></div>
                            <div class="year-line"></div>
                            <div class="year-line"></div>
                            <div class="year-line"></div>
                            <div class="year-line"></div>
                            <div class="year-line"></div>
                            <div class="year-line"></div>
                            <div class="year-line"></div>
                            <div class="year-line"></div>
                            <div class="year-line"></div>
                            <div class="year-line"></div>
                            <div class="year-line"></div>
                            <div class="year-line"></div>
                            <div class="year-line"></div>
                            <div class="year-line"></div>
                        </div>
                        <div class="deal-bar traditional top"
                             data-start="2020" data-end="2028"
                             data-broadcaster="Fox, ESPN, Turner"
                             data-value="1.5"
                             data-type="traditional"
                             style="left: 0%; width: 50%;"
                             tabindex="0"
                             role="button"
                             aria-label="MLB deal with Fox, ESPN, Turner, 2020-2028, $1.5 billion">
                            Fox, ESPN, Turner
                        </div>
                        <div class="deal-bar streaming bottom"
                             data-start="2024" data-end="2032"
                             data-broadcaster="Apple, Peacock"
                             data-value="1.5"
                             data-type="streaming"
                             style="left: 25%; width: 50%;"
                             tabindex="0"
                             role="button"
                             aria-label="MLB deal with Apple and Peacock, 2024-2032, $1.5 billion">
                            Apple, Peacock
                        </div>
                    </div>
                    <div class="value-label">$1.5B</div>
                </div>
            </div>

            <div class="legend">
                <div class="legend-item">
                    <div class="legend-box traditional"></div>
                    <span>Traditional Broadcasters</span>
                </div>
                <div class="legend-item">
                    <div class="legend-box streaming"></div>
                    <span>Streaming Platforms</span>
                </div>
            </div>
        </div>

        <div class="stats-panel">
            <h2 style="color: #1f2937; margin-bottom: 0.5rem;">Deal Insights</h2>
            <div class="stats-grid" id="stats-grid">
                <div class="stat-item">
                    <div class="stat-value" id="total-deals">10</div>
                    <div class="stat-label">Total Deals</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value" id="total-value">$24.5B</div>
                    <div class="stat-label">Combined Value</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value" id="streaming-count">5</div>
                    <div class="stat-label">Streaming Deals</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value" id="avg-duration">11 yrs</div>
                    <div class="stat-label">Avg Duration</div>
                </div>
            </div>
        </div>
    </div>

    <div class="tooltip" id="tooltip" role="tooltip"></div>

    <script>
        // Data structure for deals
        const deals = Array.from(document.querySelectorAll('.deal-bar')).map(bar => ({
            element: bar,
            league: bar.closest('.timeline-row').dataset.league,
            start: parseInt(bar.dataset.start),
            end: parseInt(bar.dataset.end),
            broadcaster: bar.dataset.broadcaster,
            value: parseFloat(bar.dataset.value),
            type: bar.dataset.type
        }));

        // Tooltip functionality
        const tooltip = document.getElementById('tooltip');

        function showTooltip(deal, event) {
            const years = deal.end - deal.start + 1;
            const annualValue = (deal.value / years).toFixed(2);

            tooltip.innerHTML = `
                <h3>${deal.league} Media Rights</h3>
                <div class="tooltip-row">
                    <span class="tooltip-label">Broadcaster:</span>
                    <span class="tooltip-value">${deal.broadcaster}</span>
                </div>
                <div class="tooltip-row">
                    <span class="tooltip-label">Period:</span>
                    <span class="tooltip-value">${deal.start}â€“${deal.end}</span>
                </div>
                <div class="tooltip-row">
                    <span class="tooltip-label">Duration:</span>
                    <span class="tooltip-value">${years} years</span>
                </div>
                <div class="tooltip-row">
                    <span class="tooltip-label">Total Value:</span>
                    <span class="tooltip-value">$${deal.value}B</span>
                </div>
                <div class="tooltip-row">
                    <span class="tooltip-label">Annual Value:</span>
                    <span class="tooltip-value">$${annualValue}B/year</span>
                </div>
                <div class="tooltip-row">
                    <span class="tooltip-label">Type:</span>
                    <span class="tooltip-value">${deal.type === 'traditional' ? 'Traditional' : 'Streaming'}</span>
                </div>
            `;

            positionTooltip(event);
            tooltip.classList.add('visible');
        }

        function positionTooltip(event) {
            const x = event.clientX;
            const y = event.clientY;
            const offset = 20;

            tooltip.style.left = (x + offset) + 'px';
            tooltip.style.top = (y + offset) + 'px';
        }

        function hideTooltip() {
            tooltip.classList.remove('visible');
        }

        // Add event listeners to all deal bars
        deals.forEach(deal => {
            deal.element.addEventListener('mouseenter', (e) => showTooltip(deal, e));
            deal.element.addEventListener('mousemove', positionTooltip);
            deal.element.addEventListener('mouseleave', hideTooltip);
            deal.element.addEventListener('focus', (e) => showTooltip(deal, e));
            deal.element.addEventListener('blur', hideTooltip);
        });

        // Filter by league
        let activeLeague = 'all';
        let activeType = 'all';

        function filterLeague(league) {
            activeLeague = league;
            applyFilters();

            // Update button states
            document.querySelectorAll('[data-league]').forEach(btn => {
                btn.classList.toggle('active', btn.dataset.league === league);
            });
        }

        function filterType(type) {
            activeType = type;
            applyFilters();

            // Update button states
            document.querySelectorAll('[data-type]').forEach(btn => {
                btn.classList.toggle('active', btn.dataset.type === type);
            });
        }

        function applyFilters() {
            const rows = document.querySelectorAll('.timeline-row');

            rows.forEach(row => {
                const league = row.dataset.league;
                const dealBars = row.querySelectorAll('.deal-bar');

                // Check if row should be visible based on league filter
                const leagueMatch = activeLeague === 'all' || league === activeLeague;

                if (!leagueMatch) {
                    row.style.display = 'none';
                } else {
                    row.style.display = 'flex';

                    // Filter individual deals by type
                    dealBars.forEach(bar => {
                        const type = bar.dataset.type;
                        const typeMatch = activeType === 'all' || type === activeType;
                        bar.style.opacity = typeMatch ? '1' : '0.2';
                        bar.style.pointerEvents = typeMatch ? 'auto' : 'none';
                    });
                }
            });

            updateStats();
        }

        // Year slider
        const yearSlider = document.getElementById('year-slider');
        const yearDisplay = document.getElementById('year-display');

        yearSlider.addEventListener('input', function() {
            const year = parseInt(this.value);
            yearDisplay.textContent = year;
            highlightActiveDeals(year);
        });

        function highlightActiveDeals(year) {
            deals.forEach(deal => {
                const isActive = year >= deal.start && year <= deal.end;
                deal.element.style.opacity = isActive ? '1' : '0.3';
                deal.element.style.transform = isActive ? 'scaleY(1.1)' : 'scaleY(1)';
            });
        }

        // Update statistics
        function updateStats() {
            const visibleDeals = deals.filter(deal => {
                const leagueMatch = activeLeague === 'all' || deal.league === activeLeague;
                const typeMatch = activeType === 'all' || deal.type === activeType;
                return leagueMatch && typeMatch;
            });

            const totalValue = visibleDeals.reduce((sum, deal) => sum + deal.value, 0);
            const streamingDeals = visibleDeals.filter(d => d.type === 'streaming').length;
            const avgDuration = visibleDeals.reduce((sum, deal) => sum + (deal.end - deal.start + 1), 0) / visibleDeals.length;

            document.getElementById('total-deals').textContent = visibleDeals.length;
            document.getElementById('total-value').textContent = '$' + totalValue.toFixed(1) + 'B';
            document.getElementById('streaming-count').textContent = streamingDeals;
            document.getElementById('avg-duration').textContent = Math.round(avgDuration) + ' yrs';
        }

        // Initialize
        updateStats();
    </script>
</body>
</html>
