<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Legacy vs Innovation Matrix - Strategic Portfolio Builder</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Geist:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --color-neutral-50: #fafafa;
            --color-neutral-100: #f5f5f5;
            --color-neutral-200: #e5e5e5;
            --color-neutral-300: #d4d4d4;
            --color-neutral-400: #a3a3a3;
            --color-neutral-500: #737373;
            --color-neutral-600: #525252;
            --color-neutral-700: #404040;
            --color-neutral-800: #262626;
            --color-neutral-900: #171717;
            --font-family-primary: 'Geist', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            --border-radius: 8px;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: var(--font-family-primary);
            background: white;
            color: var(--color-neutral-900);
            padding: 24px;
            line-height: 1.6;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        h1 {
            font-size: 1.8rem;
            font-weight: 700;
            text-align: center;
            margin-bottom: 8px;
        }

        .subtitle {
            text-align: center;
            color: var(--color-neutral-600);
            margin-bottom: 24px;
            font-size: 0.95rem;
        }

        .main-grid {
            display: grid;
            grid-template-columns: 250px 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }

        /* Card Pool Section */
        .card-pool {
            background: white;
            padding: 20px;
            border-radius: 8px;
            border: 1px solid var(--color-neutral-300);
            height: fit-content;
            position: sticky;
            top: 20px;
        }

        .card-pool h3 {
            color: var(--color-neutral-900);
            font-size: 1rem;
            margin-bottom: 15px;
            font-weight: 600;
        }

        .pool-cards {
            display: flex;
            flex-direction: column;
            gap: 10px;
            max-height: 600px;
            overflow-y: auto;
            padding-right: 5px;
        }

        .initiative-card {
            background: var(--color-neutral-50);
            border: 1px solid var(--color-neutral-200);
            border-radius: 8px;
            padding: 10px;
            cursor: move;
            transition: background 0.2s;
            user-select: none;
        }

        .initiative-card:hover {
            background: var(--color-neutral-100);
            border-color: var(--color-neutral-300);
        }

        .initiative-card:focus {
            outline: 2px solid #3182ce;
            outline-offset: 2px;
        }

        .initiative-card.dragging {
            opacity: 0.5;
        }

        .card-name {
            font-weight: 600;
            font-size: 0.85rem;
            color: var(--color-neutral-900);
            margin-bottom: 4px;
        }

        .card-impact {
            font-size: 0.75rem;
            color: var(--color-neutral-600);
        }

        /* Matrix Section */
        .matrix-container {
            background: white;
            padding: 20px;
            border-radius: 8px;
            border: 1px solid var(--color-neutral-300);
        }

        .matrix-wrapper {
            position: relative;
            aspect-ratio: 1;
            max-width: 100%;
            margin: 0 auto;
        }

        .matrix-grid {
            position: absolute;
            inset: 60px 20px 40px 80px;
            display: grid;
            grid-template-columns: 1fr 1fr;
            grid-template-rows: 1fr 1fr;
            gap: 2px;
            background: var(--color-neutral-300);
            border: 2px solid var(--color-neutral-400);
        }

        .quadrant {
            background: var(--color-neutral-50);
            padding: 15px;
            position: relative;
            min-height: 200px;
            transition: background-color 0.2s;
        }

        .quadrant.drag-over {
            background: var(--color-neutral-200);
        }

        .quadrant-label {
            font-weight: 600;
            font-size: 0.9rem;
            color: var(--color-neutral-900);
            margin-bottom: 10px;
            text-align: center;
        }

        .quadrant-cards {
            display: flex;
            flex-direction: column;
            gap: 8px;
            height: calc(100% - 30px);
            overflow-y: auto;
        }

        .quadrant.stagnation {
            background: #fef2f2;
        }

        .quadrant.museum-trap {
            background: #fffbeb;
        }

        .quadrant.disneyfication {
            background: #fef3c7;
        }

        .quadrant.sweet-spot {
            background: #f0fdf4;
        }

        /* Axis Labels */
        .axis-label {
            position: absolute;
            font-weight: 600;
            color: var(--color-neutral-700);
            font-size: 0.9rem;
        }

        .x-axis-label {
            bottom: 10px;
            left: 50%;
            transform: translateX(-50%);
        }

        .y-axis-label {
            left: 10px;
            top: 50%;
            transform: translateY(-50%) rotate(-90deg);
        }

        .x-axis-low {
            bottom: 10px;
            left: 80px;
            font-size: 0.75rem;
            color: var(--color-neutral-600);
        }

        .x-axis-high {
            bottom: 10px;
            right: 20px;
            font-size: 0.75rem;
            color: var(--color-neutral-600);
        }

        .y-axis-low {
            left: 10px;
            bottom: 40px;
            font-size: 0.75rem;
            color: var(--color-neutral-600);
        }

        .y-axis-high {
            left: 10px;
            top: 60px;
            font-size: 0.75rem;
            color: var(--color-neutral-600);
        }

        /* Analytics Section */
        .analytics {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }

        .analytics-card {
            background: white;
            padding: 20px;
            border-radius: 8px;
            border: 1px solid var(--color-neutral-200);
            border-left: 4px solid var(--card-color, var(--color-neutral-600));
        }

        .analytics-card h3 {
            font-size: 0.85rem;
            color: var(--color-neutral-600);
            margin-bottom: 8px;
            font-weight: 600;
        }

        .analytics-value {
            font-size: 2rem;
            font-weight: 700;
            color: var(--color-neutral-900);
            margin-bottom: 8px;
        }

        .analytics-description {
            font-size: 0.8rem;
            color: var(--color-neutral-600);
            line-height: 1.4;
        }

        /* Comparison Section */
        .comparison {
            background: white;
            padding: 20px;
            border-radius: 8px;
            border: 1px solid var(--color-neutral-200);
            margin-top: 20px;
        }

        .comparison h3 {
            color: var(--color-neutral-900);
            margin-bottom: 15px;
            font-size: 1.1rem;
            font-weight: 600;
        }

        .comparison-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }

        .comparison-item {
            padding: 15px;
            background: var(--color-neutral-50);
            border-radius: 8px;
            border: 1px solid var(--color-neutral-200);
        }

        .comparison-name {
            font-weight: 600;
            color: var(--color-neutral-900);
            margin-bottom: 10px;
        }

        .comparison-stat {
            display: flex;
            justify-content: space-between;
            font-size: 0.85rem;
            margin-bottom: 5px;
        }

        .comparison-label {
            color: var(--color-neutral-600);
        }

        .comparison-value {
            font-weight: 600;
            color: var(--color-neutral-900);
        }

        /* Controls */
        .controls {
            display: flex;
            gap: 12px;
            margin-top: 20px;
        }

        .btn {
            padding: 10px 24px;
            background: var(--color-neutral-900);
            color: white;
            border: none;
            border-radius: 8px;
            font-family: inherit;
            font-size: 0.95rem;
            font-weight: 600;
            cursor: pointer;
            transition: background 0.2s;
            flex: 1;
        }

        .btn:hover {
            background: var(--color-neutral-700);
        }

        .btn:focus {
            outline: 2px solid #3182ce;
            outline-offset: 2px;
        }

        .btn-secondary {
            background: white;
            color: var(--color-neutral-900);
            border: 1px solid var(--color-neutral-300);
        }

        .btn-secondary:hover {
            background: var(--color-neutral-50);
            border-color: var(--color-neutral-400);
        }

        /* Instructions */
        .instructions {
            background: var(--color-neutral-50);
            padding: 16px;
            border-radius: 8px;
            margin-bottom: 20px;
            border: 1px solid var(--color-neutral-200);
            border-left: 4px solid var(--color-neutral-600);
        }

        .instructions p {
            font-size: 0.9rem;
            color: var(--color-neutral-700);
            font-weight: 500;
        }

        /* Accessibility */
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border-width: 0;
        }

        /* Responsive */
        @media (max-width: 1024px) {
            .main-grid {
                grid-template-columns: 1fr;
            }

            .card-pool {
                position: static;
            }

            .pool-cards {
                flex-direction: row;
                flex-wrap: wrap;
                max-height: none;
            }

            .initiative-card {
                flex: 0 0 calc(50% - 5px);
            }
        }

        @media (max-width: 640px) {
            body { padding: 16px; }
            h1 { font-size: 1.5rem; }

            .analytics {
                grid-template-columns: 1fr;
            }

            .controls {
                flex-direction: column;
            }

            .initiative-card {
                flex: 0 0 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Legacy vs Innovation Matrix</h1>
        <p class="subtitle">Drag strategic initiatives onto the matrix to build your heritage property portfolio</p>

        <div class="instructions">
            <p><strong>How to use:</strong> Drag cards from the left panel onto the matrix. Position initiatives based on their tradition preservation (X-axis) and revenue growth potential (Y-axis). Aim for the "Sweet Spot" quadrant while maintaining portfolio balance.</p>
        </div>

        <div class="main-grid">
            <!-- Card Pool -->
            <div class="card-pool">
                <h3>Strategic Initiatives</h3>
                <div class="pool-cards" id="cardPool">
                    <!-- Cards will be generated by JavaScript -->
                </div>
            </div>

            <!-- Matrix -->
            <div class="matrix-container">
                <div class="matrix-wrapper">
                    <div class="matrix-grid">
                        <div class="quadrant museum-trap" data-quadrant="museum-trap">
                            <div class="quadrant-label">Museum Trap</div>
                            <div class="quadrant-cards" id="museum-trap-cards"></div>
                        </div>
                        <div class="quadrant sweet-spot" data-quadrant="sweet-spot">
                            <div class="quadrant-label">Sweet Spot</div>
                            <div class="quadrant-cards" id="sweet-spot-cards"></div>
                        </div>
                        <div class="quadrant stagnation" data-quadrant="stagnation">
                            <div class="quadrant-label">Stagnation</div>
                            <div class="quadrant-cards" id="stagnation-cards"></div>
                        </div>
                        <div class="quadrant disneyfication" data-quadrant="disneyfication">
                            <div class="quadrant-label">Disneyfication</div>
                            <div class="quadrant-cards" id="disneyfication-cards"></div>
                        </div>
                    </div>

                    <!-- Axis Labels -->
                    <div class="axis-label x-axis-label">Tradition Preservation</div>
                    <div class="axis-label y-axis-label">Revenue Growth</div>
                    <div class="axis-label x-axis-low">Low</div>
                    <div class="axis-label x-axis-high">High</div>
                    <div class="axis-label y-axis-low">Low</div>
                    <div class="axis-label y-axis-high">High</div>
                </div>
            </div>
        </div>

        <!-- Analytics -->
        <div class="analytics">
            <div class="analytics-card" style="--card-color: #6b7280;">
                <h3>Portfolio Balance Score</h3>
                <div class="analytics-value" id="balanceScore">0</div>
                <div class="analytics-description">Distribution across quadrants (0-100)</div>
            </div>
            <div class="analytics-card" style="--card-color: #ef4444;">
                <h3>Risk Assessment</h3>
                <div class="analytics-value" id="riskScore">Low</div>
                <div class="analytics-description">Based on quadrant distribution</div>
            </div>
            <div class="analytics-card" style="--card-color: #10b981;">
                <h3>Financial Projection</h3>
                <div class="analytics-value" id="financialProjection">+0%</div>
                <div class="analytics-description">Expected 5-year growth</div>
            </div>
            <div class="analytics-card" style="--card-color: #f59e0b;">
                <h3>Authenticity Score</h3>
                <div class="analytics-value" id="authenticityScore">50</div>
                <div class="analytics-description">Heritage preservation (0-100)</div>
            </div>
        </div>

        <!-- Comparison -->
        <div class="comparison">
            <h3>Compare to Real Heritage Properties</h3>
            <div class="comparison-grid">
                <div class="comparison-item">
                    <div class="comparison-name">Your Portfolio</div>
                    <div class="comparison-stat">
                        <span class="comparison-label">Sweet Spot:</span>
                        <span class="comparison-value" id="yourSweetSpot">0</span>
                    </div>
                    <div class="comparison-stat">
                        <span class="comparison-label">Risk:</span>
                        <span class="comparison-value" id="yourRisk">—</span>
                    </div>
                    <div class="comparison-stat">
                        <span class="comparison-label">Growth:</span>
                        <span class="comparison-value" id="yourGrowth">—</span>
                    </div>
                </div>
                <div class="comparison-item">
                    <div class="comparison-name">Hockey Hall of Fame</div>
                    <div class="comparison-stat">
                        <span class="comparison-label">Sweet Spot:</span>
                        <span class="comparison-value">7</span>
                    </div>
                    <div class="comparison-stat">
                        <span class="comparison-label">Risk:</span>
                        <span class="comparison-value">Medium</span>
                    </div>
                    <div class="comparison-stat">
                        <span class="comparison-label">Growth:</span>
                        <span class="comparison-value">+12%</span>
                    </div>
                </div>
                <div class="comparison-item">
                    <div class="comparison-name">Olympics Legacy</div>
                    <div class="comparison-stat">
                        <span class="comparison-label">Sweet Spot:</span>
                        <span class="comparison-value">5</span>
                    </div>
                    <div class="comparison-stat">
                        <span class="comparison-label">Risk:</span>
                        <span class="comparison-value">High</span>
                    </div>
                    <div class="comparison-stat">
                        <span class="comparison-label">Growth:</span>
                        <span class="comparison-value">+8%</span>
                    </div>
                </div>
                <div class="comparison-item">
                    <div class="comparison-name">FIFA Museum</div>
                    <div class="comparison-stat">
                        <span class="comparison-label">Sweet Spot:</span>
                        <span class="comparison-value">4</span>
                    </div>
                    <div class="comparison-stat">
                        <span class="comparison-label">Risk:</span>
                        <span class="comparison-value">Low</span>
                    </div>
                    <div class="comparison-stat">
                        <span class="comparison-label">Growth:</span>
                        <span class="comparison-value">+6%</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Controls -->
        <div class="controls">
            <button class="btn btn-secondary" onclick="resetMatrix()">Reset Matrix</button>
            <button class="btn" onclick="exportToPDF()">Export to PDF</button>
        </div>
    </div>

    <script>
        // Initiative cards data
        const initiatives = [
            { id: 1, name: 'Interactive Digital Archive', tradition: 'high', revenue: 'high', impact: 'High tradition, High revenue' },
            { id: 2, name: 'VR Hall Experience', tradition: 'medium', revenue: 'high', impact: 'Medium tradition, High revenue' },
            { id: 3, name: 'Artifact Rental Program', tradition: 'high', revenue: 'medium', impact: 'High tradition, Medium revenue' },
            { id: 4, name: 'NFT Collectibles', tradition: 'low', revenue: 'high', impact: 'Low tradition, High revenue' },
            { id: 5, name: 'Educational Partnerships', tradition: 'high', revenue: 'low', impact: 'High tradition, Low revenue' },
            { id: 6, name: 'Heritage Documentary Series', tradition: 'high', revenue: 'medium', impact: 'High tradition, Medium revenue' },
            { id: 7, name: 'Themed Restaurant/Bar', tradition: 'medium', revenue: 'medium', impact: 'Medium tradition, Medium revenue' },
            { id: 8, name: 'Social Media Campaigns', tradition: 'low', revenue: 'medium', impact: 'Low tradition, Medium revenue' },
            { id: 9, name: 'Permanent Exhibition Only', tradition: 'high', revenue: 'low', impact: 'High tradition, Low revenue' },
            { id: 10, name: 'Gaming Partnerships', tradition: 'low', revenue: 'high', impact: 'Low tradition, High revenue' },
            { id: 11, name: 'Corporate Event Space', tradition: 'medium', revenue: 'high', impact: 'Medium tradition, High revenue' },
            { id: 12, name: 'Nostalgia Gift Shop', tradition: 'medium', revenue: 'medium', impact: 'Medium tradition, Medium revenue' },
            { id: 13, name: 'Influencer Collaborations', tradition: 'low', revenue: 'medium', impact: 'Low tradition, Medium revenue' },
            { id: 14, name: 'Archival Research Access', tradition: 'high', revenue: 'low', impact: 'High tradition, Low revenue' },
            { id: 15, name: 'Pop Culture Crossovers', tradition: 'low', revenue: 'high', impact: 'Low tradition, High revenue' }
        ];

        let draggedElement = null;
        let portfolioState = {
            'sweet-spot': [],
            'museum-trap': [],
            'stagnation': [],
            'disneyfication': []
        };

        // Initialize
        function init() {
            renderCardPool();
            setupDragAndDrop();
            updateAnalytics();
        }

        // Render card pool
        function renderCardPool() {
            const pool = document.getElementById('cardPool');
            pool.innerHTML = initiatives.map(card => `
                <div class="initiative-card"
                     draggable="true"
                     data-id="${card.id}"
                     data-tradition="${card.tradition}"
                     data-revenue="${card.revenue}"
                     tabindex="0"
                     role="button"
                     aria-label="${card.name} - ${card.impact}">
                    <div class="card-name">${card.name}</div>
                    <div class="card-impact">${card.impact}</div>
                </div>
            `).join('');
        }

        // Setup drag and drop
        function setupDragAndDrop() {
            const cards = document.querySelectorAll('.initiative-card');
            const quadrants = document.querySelectorAll('.quadrant');

            cards.forEach(card => {
                card.addEventListener('dragstart', handleDragStart);
                card.addEventListener('dragend', handleDragEnd);

                // Keyboard support
                card.addEventListener('keydown', handleKeyboardMove);
            });

            quadrants.forEach(quadrant => {
                quadrant.addEventListener('dragover', handleDragOver);
                quadrant.addEventListener('drop', handleDrop);
                quadrant.addEventListener('dragleave', handleDragLeave);
            });
        }

        function handleDragStart(e) {
            draggedElement = e.target;
            e.target.classList.add('dragging');
            e.dataTransfer.effectAllowed = 'move';
            e.dataTransfer.setData('text/html', e.target.innerHTML);
        }

        function handleDragEnd(e) {
            e.target.classList.remove('dragging');
            document.querySelectorAll('.quadrant').forEach(q => q.classList.remove('drag-over'));
        }

        function handleDragOver(e) {
            if (e.preventDefault) {
                e.preventDefault();
            }
            e.dataTransfer.dropEffect = 'move';
            e.currentTarget.classList.add('drag-over');
            return false;
        }

        function handleDragLeave(e) {
            e.currentTarget.classList.remove('drag-over');
        }

        function handleDrop(e) {
            if (e.stopPropagation) {
                e.stopPropagation();
            }
            e.preventDefault();

            const quadrant = e.currentTarget;
            const quadrantType = quadrant.dataset.quadrant;
            const cardsContainer = document.getElementById(`${quadrantType}-cards`);

            if (draggedElement && quadrant.contains(cardsContainer)) {
                // Remove from previous location
                const cardId = draggedElement.dataset.id;
                Object.keys(portfolioState).forEach(key => {
                    portfolioState[key] = portfolioState[key].filter(id => id !== cardId);
                });

                // Add to new location
                portfolioState[quadrantType].push(cardId);
                cardsContainer.appendChild(draggedElement);

                updateAnalytics();
            }

            quadrant.classList.remove('drag-over');
            return false;
        }

        function handleKeyboardMove(e) {
            if (e.key === 'Enter' || e.key === ' ') {
                e.preventDefault();
                const card = e.target;
                const currentQuadrant = card.closest('.quadrant');

                // Show selection menu (simplified - cycle through quadrants)
                const quadrants = ['sweet-spot', 'museum-trap', 'stagnation', 'disneyfication'];
                let currentIndex = currentQuadrant ?
                    quadrants.indexOf(currentQuadrant.dataset.quadrant) : -1;

                const nextIndex = (currentIndex + 1) % quadrants.length;
                const nextQuadrant = quadrants[nextIndex];
                const targetContainer = document.getElementById(`${nextQuadrant}-cards`);

                // Move card
                const cardId = card.dataset.id;
                Object.keys(portfolioState).forEach(key => {
                    portfolioState[key] = portfolioState[key].filter(id => id !== cardId);
                });
                portfolioState[nextQuadrant].push(cardId);
                targetContainer.appendChild(card);

                card.focus();
                updateAnalytics();
            }
        }

        // Analytics calculations
        function updateAnalytics() {
            const sweetSpot = portfolioState['sweet-spot'].length;
            const museumTrap = portfolioState['museum-trap'].length;
            const stagnation = portfolioState['stagnation'].length;
            const disneyfication = portfolioState['disneyfication'].length;
            const total = sweetSpot + museumTrap + stagnation + disneyfication;

            // Portfolio Balance Score (0-100)
            // Ideal is 60% sweet spot, 20% museum trap, 10% each for others
            let balanceScore = 0;
            if (total > 0) {
                const idealDist = {
                    'sweet-spot': 0.60,
                    'museum-trap': 0.20,
                    'stagnation': 0.10,
                    'disneyfication': 0.10
                };

                let deviation = 0;
                Object.keys(idealDist).forEach(key => {
                    const actual = portfolioState[key].length / total;
                    const ideal = idealDist[key];
                    deviation += Math.abs(actual - ideal);
                });

                balanceScore = Math.round(Math.max(0, (1 - deviation) * 100));
            }

            // Risk Assessment
            let riskScore = 'Low';
            if (stagnation > 3 || disneyfication > 3) {
                riskScore = 'High';
            } else if (stagnation > 1 || disneyfication > 1 || museumTrap > 5) {
                riskScore = 'Medium';
            }

            // Financial Projection
            const sweetSpotValue = sweetSpot * 15;
            const museumTrapValue = museumTrap * 5;
            const stagnationValue = stagnation * -5;
            const disneyficationValue = disneyfication * 10;
            const financialProjection = sweetSpotValue + museumTrapValue + stagnationValue + disneyficationValue;

            // Authenticity Score
            const allCards = [...Object.values(portfolioState)].flat();
            let authenticitySum = 0;
            allCards.forEach(cardId => {
                const card = initiatives.find(i => i.id === parseInt(cardId));
                if (card) {
                    if (card.tradition === 'high') authenticitySum += 100;
                    else if (card.tradition === 'medium') authenticitySum += 60;
                    else authenticitySum += 20;
                }
            });
            const authenticityScore = total > 0 ? Math.round(authenticitySum / total) : 50;

            // Update display
            document.getElementById('balanceScore').textContent = balanceScore;
            document.getElementById('riskScore').textContent = riskScore;
            document.getElementById('financialProjection').textContent = financialProjection > 0 ? `+${financialProjection}%` : `${financialProjection}%`;
            document.getElementById('authenticityScore').textContent = authenticityScore;

            // Update comparison
            document.getElementById('yourSweetSpot').textContent = sweetSpot;
            document.getElementById('yourRisk').textContent = riskScore;
            document.getElementById('yourGrowth').textContent = financialProjection > 0 ? `+${financialProjection}%` : `${financialProjection}%`;
        }

        // Reset matrix
        function resetMatrix() {
            portfolioState = {
                'sweet-spot': [],
                'museum-trap': [],
                'stagnation': [],
                'disneyfication': []
            };

            // Clear all quadrants
            document.querySelectorAll('.quadrant-cards').forEach(container => {
                container.innerHTML = '';
            });

            // Re-render card pool
            renderCardPool();
            setupDragAndDrop();
            updateAnalytics();
        }

        // Export to PDF (simplified - would integrate with jsPDF in production)
        function exportToPDF() {
            const content = [];
            content.push('LEGACY VS INNOVATION MATRIX - PORTFOLIO REPORT\n\n');

            Object.keys(portfolioState).forEach(quadrant => {
                const cards = portfolioState[quadrant];
                content.push(`${quadrant.toUpperCase().replace('-', ' ')}: ${cards.length} initiatives\n`);
                cards.forEach(cardId => {
                    const card = initiatives.find(i => i.id === parseInt(cardId));
                    if (card) {
                        content.push(`  - ${card.name}\n`);
                    }
                });
                content.push('\n');
            });

            content.push('\nANALYTICS:\n');
            content.push(`Balance Score: ${document.getElementById('balanceScore').textContent}\n`);
            content.push(`Risk Assessment: ${document.getElementById('riskScore').textContent}\n`);
            content.push(`Financial Projection: ${document.getElementById('financialProjection').textContent}\n`);
            content.push(`Authenticity Score: ${document.getElementById('authenticityScore').textContent}\n`);

            // Create blob and download
            const blob = new Blob([content.join('')], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'legacy-innovation-matrix-report.txt';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);

            alert('Report exported! Note: In production, this would generate a formatted PDF using jsPDF library.');
        }

        // Initialize on load
        init();
    </script>
</body>
</html>
